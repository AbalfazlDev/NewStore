@using NewStore.Domain.Entities.HomePage
@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers
@{
    ViewData["Title"] = "AddPageSlider";
    Layout = "~/Areas/Admin/Views/Shared/_Layout.cshtml";
    List<string> filesSrc = new List<string>();
}

<div class="side-app">

    <!-- CONTAINER -->
    <div class="main-container container-fluid">

        <!-- PAGE-HEADER -->
        <div class="page-header">
            <div>
                <ol class="breadcrumb">
                    <li class="breadcrumb-item"><a href="javascript:void(0)">مشاهده اسلایدر ها</a></li>
                    <li class="breadcrumb-item active" aria-current="page">افزودن اسلایدر جدید</li>
                </ol>
            </div>
        </div>
        <!-- PAGE-HEADER END -->
        <!-- ROW-1 OPEN -->
        <div class="row">
            <div class="col-lg-12">
                <form class="card" method="post" enctype="multipart/form-data">
                    <div class="card-header">
                        <div class="card-title">افزودن اسلایدر جدید</div>
                    </div>
                    <div class="card-body">
                        <div class="row mb-4">
                            <label class="col-md-3 form-label">نام اسلایدر :</label>
                            <div class="col-md-9">
                                <input name="name" type="text" class="form-control" placeholder="نام اسلایدر">
                            </div>
                        </div>

                        <div class="row mb-4">
                            <label class="col-md-3 form-label">مکان :</label>
                            <div class="col-md-9">
                                <select name="position" asp-items="@(Html.GetEnumSelectList<PositionInPage>())" class="form-control form-select select2 select2-hidden-accessible" data-bs-placeholder="Select Country" tabindex="-1" aria-hidden="true">
                                </select>
                            </div>
                        </div>

                        <div class="row mb-4">
                            <label class="col-md-3 form-label">دسته بندری :</label>
                            <div class="col-md-9">
                                <select name="categoryId" asp-items="@ViewBag.Categories" class="form-control form-select select2 select2-hidden-accessible" data-bs-placeholder="Select Country" tabindex="-1" aria-hidden="true">
                                </select>

                            </div>
                        </div>


                        <!--Row-->
                        <div class="row">
                            <label class="col-md-3 form-label mb-4">بارگزاری فایل :</label>
                            <div class="col-md-9">
                                <input id="productFile" type="file" name="files" accept=".jpg, .png, image/jpeg, image/png" data-maxfiles="1" class="ff_fileupload_hidden">
                                <input id="filePath" name="filePath" style="display:none;" />
                            </div>
                        </div>
                        <!--End Row-->
                    </div>
                    <div class="card-footer">
                        <!--Row-->
                        <div class="row">
                            <div class="col-md-3"></div>
                            <div class="col-md-9">
                                <button type="submit" class="btn btn-primary">افزودن</button>
                                <a href="/" class="btn btn-default float-end">کنار گزاشتن</a>
                            </div>
                        </div>
                        <!--End Row-->
                    </div>
                </form>
            </div>
        </div>
        <!-- /ROW-1 CLOSED -->
    </div>
    <!-- CONTAINER CLOSED -->
</div>


@section Scripts {


    <!-- INTERNAL File-Uploads Js-->
    <script src="~/admin/assets/plugins/fancyuploder/jquery.ui.widget.js"></script>
    <script src="~/admin/assets/plugins/fancyuploder/jquery.fileupload.js"></script>
    <script src="~/admin/assets/plugins/fancyuploder/jquery.iframe-transport.js"></script>
    <script src="~/admin/assets/plugins/fancyuploder/jquery.fancy-fileupload.js"></script>

    <script>


                $('#productFile').FancyFileUpload({
            url: '/Admin/HomePage/Upload',
            paramname: 'files',
            maxfilesize: 10000000,
            maxfiles: 1,
            uploadcompleted: function (e, data) {

                var filePath = data.result.filePath;
                $('.ff_fileupload_uploads tr:not(:last)').remove();
                $("#filePath").val(filePath);
            }
        });




    </script>

    <!-- INPUT MASK JS-->
    <script src="~/admin/assets/plugins/input-mask/jquery.mask.min.js"></script>

    <!-- INTERNAL SELECT2 JS -->
    <script src="~/admin/assets/plugins/select2/select2.full.min.js"></script>
    <script src="~/admin/assets/js/select2.js"></script>

    <!-- INTERNAL WYSIWYG Editor JS -->
    <script src="~/admin/assets/plugins/wysiwyag/jquery.richtext.js "></script>
    <script src="~/admin/assets/plugins/wysiwyag/wysiwyag.js "></script>
}