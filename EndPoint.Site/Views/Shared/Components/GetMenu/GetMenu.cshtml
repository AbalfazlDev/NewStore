@using NewStore.Application.Services.Common.Queris.GetMenuItems
@model List<MenuItemsDto>
@{
    Layout = null;
}

<nav class="fix-navbar" id="primary-navigation">
    <ul class="primary-navbar">
        <li class="dropdown active">
            <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true">@Model.First().Name</a>
            <ul class="dropdown-menu">
                @foreach (var child in Model.First().Childs)
                {
                    <li><a asp-controller="Products" asp-action="Index" asp-route-categoryId="@child.CategoryId"> @child.Name </a></li>
                }
            </ul>
        </li>
        @if (Model.Count > 1)
        {
            @foreach (var item in Model.Skip(1))
            {
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true">@item.Name</a>
                    <ul class="dropdown-menu">
                        @foreach (var child in item.Childs)
                        {
                            <li><a asp-controller="Products" asp-action="Index" asp-route-categoryId="@child.CategoryId"> @child.Name </a></li>
                        }
                    </ul>
                </li>
            }
        }
    </ul>
</nav>
