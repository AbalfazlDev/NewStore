@using NewStore.Application.Services.Products.Queris.GetProduct
@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers
@addTagHelper *, LazZiya.TagHelpers
@model ResultGetProductDto
@{
    ViewData["Title"] = "Index";
     Layout = "~/Views/Shared/_Layout.cshtml";
    //Layout = null;
    int correctPage = 1;
    int pageSize = 20;
    int.TryParse(Context.Request.Query["page"], out correctPage);
    int.TryParse(Context.Request.Query["pageSize"], out pageSize);
}
<section class="breadcrumb-bg">
    <div class="theme-container container ">
        <div class="site-breadcumb white-clr">
            <h2 class="section-title"> <strong class="clr-txt">naturix </strong> <span class="light-font">Shop </span> </h2>
            <ol class="breadcrumb breadcrumb-menubar">
                <li> <a href="#"> Home </a> SHOP  </li>
            </ol>
        </div>
    </div>
</section>
<section class="shop-wrap sec-space-bottom">
    <div class="pattern">
        <img alt="" src="~/assets/img/icons/white-pattern.png">
    </div>

    <div class="container rel-div">
        <div class="row sort-bar">
            <div class="icon"> <img alt="" src="~/assets/img/logo/logo-2.png"> </div>
            <div class="col-lg-6">
                <div class="sort-dropdown left">
                    <span>CATEGORY</span>
                    <div class="search-selectpicker selectpicker-wrapper">
                        <div class="btn-group bootstrap-select input-price" style="width: 100%;">
                            <button type="button" class="btn dropdown-toggle btn-default" data-toggle="dropdown" role="button" title="All product"><span class="filter-option pull-left">All product</span>&nbsp;<span class="bs-caret"><span class="caret"></span></span></button><div class="dropdown-menu open" role="combobox"><ul class="dropdown-menu inner" role="listbox" aria-expanded="false"><li data-original-index="0" class="selected"><a tabindex="0" class="" style="" data-tokens="null" role="option" aria-disabled="false" aria-selected="true"><span class="text">All product</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="1"><a tabindex="0" class="" style="" data-tokens="null" role="option" aria-disabled="false" aria-selected="false"><span class="text">A - Z</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="2"><a tabindex="0" class="" style="" data-tokens="null" role="option" aria-disabled="false" aria-selected="false"><span class="text">Z - A</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="3"><a tabindex="0" class="" style="" data-tokens="null" role="option" aria-disabled="false" aria-selected="false"><span class="text"> Low - High </span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="4"><a tabindex="0" class="" style="" data-tokens="null" role="option" aria-disabled="false" aria-selected="false"><span class="text"> High - Low </span><span class="glyphicon glyphicon-ok check-mark"></span></a></li></ul></div><select class="selectpicker input-price" data-width="100%" data-toggle="tooltip" tabindex="-98">
                                <option>All product</option>
                                <option>A - Z</option>
                                <option>Z - A</option>
                                <option> Low - High </option>
                                <option> High - Low </option>
                            </select>
                        </div>
                    </div>
                </div>
                <div class="sort-dropdown">
                    <span>SORT BY</span>
                    <div class="search-selectpicker selectpicker-wrapper">
                        <div class="btn-group bootstrap-select input-price" style="width: 100%;">
                            <button type="button" class="btn dropdown-toggle btn-default" data-toggle="dropdown" role="button" title="Popular item"><span class="filter-option pull-left">Popular item</span>&nbsp;<span class="bs-caret"><span class="caret"></span></span></button><div class="dropdown-menu open" role="combobox"><ul class="dropdown-menu inner" role="listbox" aria-expanded="false"><li data-original-index="0" class="selected"><a tabindex="0" class="" style="" data-tokens="null" role="option" aria-disabled="false" aria-selected="true"><span class="text">Popular item</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="1"><a tabindex="0" class="" style="" data-tokens="null" role="option" aria-disabled="false" aria-selected="false"><span class="text">A - Z</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="2"><a tabindex="0" class="" style="" data-tokens="null" role="option" aria-disabled="false" aria-selected="false"><span class="text">Z - A</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="3"><a tabindex="0" class="" style="" data-tokens="null" role="option" aria-disabled="false" aria-selected="false"><span class="text"> Low - High </span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="4"><a tabindex="0" class="" style="" data-tokens="null" role="option" aria-disabled="false" aria-selected="false"><span class="text"> High - Low </span><span class="glyphicon glyphicon-ok check-mark"></span></a></li></ul></div><select class="selectpicker input-price" data-width="100%" data-toggle="tooltip" tabindex="-98">
                                <option>Popular item</option>
                                <option>A - Z</option>
                                <option>Z - A</option>
                                <option> Low - High </option>
                                <option> High - Low </option>
                            </select>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-lg-5 right">
                <div class="sort-dropdown">
                    <span>BY PRICE</span>
                    <div class="search-selectpicker selectpicker-wrapper">
                        <div class="btn-group bootstrap-select input-price" style="width: 100%;">
                            <button type="button" class="btn dropdown-toggle btn-default" data-toggle="dropdown" role="button" title="Low to High"><span class="filter-option pull-left"> Low to High </span>&nbsp;<span class="bs-caret"><span class="caret"></span></span></button><div class="dropdown-menu open" role="combobox"><ul class="dropdown-menu inner" role="listbox" aria-expanded="false"><li data-original-index="0" class="selected"><a tabindex="0" class="" style="" data-tokens="null" role="option" aria-disabled="false" aria-selected="true"><span class="text"> Low to High </span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="1"><a tabindex="0" class="" style="" data-tokens="null" role="option" aria-disabled="false" aria-selected="false"><span class="text"> High to Low </span><span class="glyphicon glyphicon-ok check-mark"></span></a></li></ul></div><select class="selectpicker input-price" data-width="100%" data-toggle="tooltip" tabindex="-98">
                                <option> Low to High </option>
                                <option> High to Low </option>
                            </select>
                        </div>
                    </div>
                </div>
                <div class="sort-range">
                    <span>قیمت</span> <div id="price-range" class="ui-slider ui-corner-all ui-slider-horizontal ui-widget ui-widget-content"><div class="ui-slider-range ui-corner-all ui-widget-header" style="left: 0%; width: 100%;"><span class="price-range-both value"><i>$10 - </i>1000</span></div><span tabindex="0" class="ui-slider-handle ui-corner-all ui-state-default" style="left: 0%;"><span class="price-range-min value">$10</span></span><span tabindex="0" class="ui-slider-handle ui-corner-all ui-state-default" style="left: 100%;"><span class="price-range-max value">$1000</span></span></div>
                </div>
            </div>
        </div>

        <div class="divider-full-1"></div>

        <div class="result-bar block-inline">
            <h4 class="result-txt">search result <b>@Model.RowsCount</b> </h4>
            <ul class="view-tabs">
                <li class="">
                    <a href="#grid-view" data-toggle="tab" aria-expanded="false">
                        <i class="fa fa-th"></i>
                    </a>
                </li>
                <li class="active">
                    <a href="#list-view" data-toggle="tab" aria-expanded="true">
                        <i class="fa fa-th-list"></i>
                    </a>
                </li>
            </ul>
        </div>

        <div class="tab-content shop-content">
            <div id="grid-view" class="tab-pane fade" role="tabpanel">
                <div class="row">
                    @foreach (var item in Model.Products)
                    {
                        <div class="col-lg-3 col-md-4 col-sm-6">
                            <div class="product-box">
                                <div class="product-media">
                                    <img class="prod-img" alt="" src="~/@item.ImageSrc">
                                    <img class="shape" alt="" src="~/assets/img/icons/shap-small.png">
                                    <div class="prod-icons">
                                        <a href="#" class="fa fa-heart"></a>
                                        <a href="#" class="fa fa-shopping-basket"></a>
                                        <a asp-action="Details" asp-route-productId="@item.Id" data-toggle="modal" class="fa fa-expand"></a>
                                    </div>
                                </div>
                                <div class="product-caption">
                                    <h3 class="product-title">
                                        <a href="#"> <span class="light-font"></span>  <strong>@item.Title</strong></a>
                                    </h3>
                                    <div class="price">
                                        <strong class="clr-txt">@item.Price.ToString("n0")</strong> @* <del class="light-font">$65.00 </del> *@
                                    </div>
                                </div>
                            </div>
                        </div>
                    }

                </div>

                <div class="rel-div pt-50">
                    <div class="divider-full-1"></div>
                    <div class="nav-page">
                        <a href="#" class="fa fa-long-arrow-left left"></a>
                        <a href="#" class="fa fa-long-arrow-right right"></a>
                    </div>
                </div>

                <div class="pagination-wrap">
                    <ul class="pagintn">
                        <li><a href="#">01</a></li>
                        <li><a href="#">02</a></li>
                        <li><a href="#">03</a></li>
                        <li><a href="#">04</a></li>
                        <li><a href="#">05</a></li>
                        <li><a href="#">...</a></li>
                        <li><a href="#">15</a></li>
                    </ul>
                </div>
            </div>

            <div id="list-view" class="tab-pane fade active in" role="tabpanel">
                <div class="row">
                    @foreach (var item in Model.Products)
                    {
                        <div class="col-md-6 col-sm-12">
                            <div class="deal-item list-view">
                                <div class="deal-icons">
                                    <a href="#" class="fa fa-heart"></a>
                                    <a href="#" class="fa fa-shopping-basket"></a>
                                    <a asp-action="Details" asp-route-productId="@item.Id" data-toggle="modal" class="fa fa-expand"></a>
                                </div>
                                <div class="deal-content">
                                    <div class="text-right">
                                        <span class="prod-tag tag-1">جدید</span> <span class="prod-tag tag-2">فروش ویژه</span>
                                    </div>
                                    <div class="deal-text">
                                        <h4 class="sub-title"></h4>
                                        <h2 class="fsz-30 pb-15"> <a href="#"> <span class="light-font"></span> <strong>@item.Brand </strong> </a> </h2>
                                        <p>@item.Title</p>
                                        <div class="price pt-15">
                                            <strong class="clr-txt">@item.Price.ToString("n0")</strong> <del class="light-font">$65.00 </del>
                                        </div>
                                    </div>
                                    <div class="img"> <img alt="" src="~/@item.ImageSrc"> </div>
                                </div>
                            </div>
                        </div>
                    }

                </div>

                <div class="rel-div pt-50">
                    <div class="divider-full-1"></div>
                    <div class="nav-page">
                        <a href="#" class="fa fa-long-arrow-left left"></a>
                        <a href="#" class="fa fa-long-arrow-right right"></a>
                    </div>
                </div>

                <div class="pagination-wrap">
                    @* <ul class="pagintn">

                        @for (UInt16 i = 1; i <= Model.RowsCount % 5; i++)
                        {
                            <li><a asp-route-page="@i">@i</a></li>
                        }
                        @if (Model.RowsCount > 5)
                        {
                            <li>...</li>
                            @for (UInt32 i = Model.RowsCount; i >= Model.RowsCount - 5 && i > Model.RowsCount % 5; i--)
                            {
                                <li><a asp-route-page="@i">@i</a></li>
                            }
                        }
                    </ul> *@
                    <paging total-records="@(int)Model.RowsCount"
                            page-no="@correctPage == 0 ? 1 : correctPage"
                            page-size="@pageSize == 0 ? 1 : pageSize"
                            query-string-key-page-no="page"
                            query-string-key-page-size="pageSize">
                    </paging>
                </div>
            </div>
        </div>
    </div>
</section>

@* @section Scripts {
    <script src="~/assets/js/theme.js"></script>
} *@